subprojects {
	apply plugin: 'java'
	apply plugin: 'eclipse'
	apply plugin: 'maven-publish'

	sourceCompatibility = 1.7
	version = '0.50.0-SNAPSHOT'

	springVersion = '4.0.+'
	springSecurityVersion = '3.2.+'

	repositories {
		mavenCentral()
		mavenLocal()
	}

	dependencies {
		compile group: 'commons-collections', name: 'commons-collections', version: '3.2'
		compile group: 'org.springframework', name: 'spring-context', version: springVersion
		compile group: 'org.springframework.security', name: 'spring-security-config', version: springSecurityVersion
		compile group: 'org.codehaus.jackson', name: 'jackson-mapper-lgpl', version: '1.9+'

		testCompile group: 'junit', name: 'junit', version: '4.+'
		testCompile group: 'org.springframework', name: 'spring-test', version: springVersion
	}

	test { systemProperties 'property': 'value' }
	
	publishing {
		repositories {
			maven {
				credentials {
					username getUsername()
					password getPassword()
				}
				url "https://maven.mni.thm.de/content/repositories/snapshots/"
			}
			mavenLocal()
		}
	}
}

def getUsername() {
	return mavenUsername == null ? '' : mavenUsername;
}

def getPassword() {
	return mavenPassword == null ? '' : mavenPassword;
}
