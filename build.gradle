subprojects {
	apply plugin: 'java'
	apply plugin: 'eclipse'
	apply plugin: 'maven'

	sourceCompatibility = 1.7

	group = 'de.thm.arsnova.connector'
	version = '0.70.2-SNAPSHOT'

	ext {
		springVersion = '4.0.4.RELEASE'
		springSecurityVersion = '3.2.3.RELEASE'
	}

	repositories {
		mavenCentral()
		mavenLocal()
	}

	dependencies {
		compile group: 'commons-collections', name: 'commons-collections', version: '3.2'
		compile group: 'org.springframework', name: 'spring-context', version: springVersion
		compile group: 'org.springframework.security', name: 'spring-security-config', version: springSecurityVersion
		compile group: 'org.codehaus.jackson', name: 'jackson-mapper-lgpl', version: '1.9.13'

		testCompile group: 'junit', name: 'junit', version: '4.11'
		testCompile group: 'org.springframework', name: 'spring-test', version: springVersion
	}

	test { systemProperties 'property': 'value' }

	configurations {
		deployerJars
	}

	uploadArchives {
		repositories.mavenDeployer {
			configuration = configurations.deployerJars
			repository(
				url: project.hasProperty('mavenUrl') ? mavenUrl : "http://maven.mni.thm.de/content/repositories/snapshots/"
			) {
				authentication(
					userName: project.hasProperty('mavenUsername') ?  mavenUsername : '',
					password: project.hasProperty('mavenPassword') ?  mavenUsername : ''
				)
			}
		}
	}
}
